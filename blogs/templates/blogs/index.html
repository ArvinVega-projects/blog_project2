{% extends "blogs/base.html" %}

{% block page_header %}
  <div class="p-3 mb-3 bg-light border rounded-4">
    <div class="container-fluid py-4">
      <h1 class="display-3">Blog about everything you care about.</h1>
      
      <p class="lead">Create blogs and share it with the world! Add new blog topics
        and blog posts, or edit currently existing posts.</p>
      <!-- Show Register CTA if user not logged in. -->
      {% if user.is_authenticated %}
      {% else %}
        <a class="btn btn-primary btn-lg mt-1"
          href="{% url 'accounts:register' %}">Register &raquo;</a>
      {% endif %}
    </div>
  </div>
{% endblock page_header %}

{% block content %}
<div class="row">
  <h2>Active Blogs</h2>
  {% for blog_title in blog_titles %}
    <div class="col-sm-4">
      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">{{ blog_title.text }}</h5>
          <h6 class="card-subtitle mb-2 text-muted">Created by: {{ blog_title.owner }}
            on {{blog_title.date_made|date:'M d, Y'}}
          </h6>
          <a href="{% url 'blogs:blog' blog_title.id %}" class="btn btn-primary btn-sm">See Blog Posts</a>
          <!-- Show Edit Blog Title button if user logged in. -->
          {% if user.is_authenticated %}
            <a href="{% url 'blogs:edit_blogname' blog_title.id %}" class="btn btn-primary btn-sm">Edit Blog Name</a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock content %}